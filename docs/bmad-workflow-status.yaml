---
# BMAD Workflow Status
# Hogwarts iOS App

project: hogwarts-ios
version: 1.0.0
created_at: 2025-12-17
updated_at: 2026-02-09

# Current Position
current_phase: implementation
current_sprint: 4

# BMAD Phases
phases:
  analysis:
    status: complete
    started_at: 2025-12-17
    completed_at: 2025-12-17
    artifacts:
      - docs/prd.md

  planning:
    status: complete
    started_at: 2025-12-17
    completed_at: 2025-12-17
    artifacts:
      - .claude/CLAUDE.md
      - .claude/commands/analyst.md
      - .claude/commands/architect.md
      - .claude/commands/dev.md
      - .claude/commands/qa.md
      - .claude/commands/ui.md
      - .claude/commands/status.md
      - .claude/commands/next.md
      - .claude/commands/build.md
      - .claude/commands/story.md
      - .claude/commands/sync.md

  solutioning:
    status: complete
    started_at: 2025-12-17
    completed_at: 2026-02-08
    artifacts:
      - docs/architecture.md
      - docs/prd.md (v2.0)
      - docs/stories/

  implementation:
    status: in_progress
    started_at: 2026-02-08
    completed_at: null
    current_sprint: 4

# Implementation Status (existing code)
implementation_status:
  core_infrastructure:
    api_client: implemented
    network_monitor: implemented
    auth_manager: implemented
    keychain_service: implemented
    tenant_context: implemented
    data_container: implemented
    sync_engine: implemented
    app_entry: implemented
    app_delegate: implemented
  shared_components:
    user_model: implemented
    core_models: implemented
    loading_view: implemented
    error_state_view: implemented
    empty_state_view: implemented
  features:
    auth:
      status: implemented
      files: [login-view.swift, auth-manager.swift, keychain-service.swift]
      notes: "Google OAuth, Facebook OAuth, Email/Password, School Selection, Session Management complete"
    dashboard:
      status: implemented
      files: [dashboard-content.swift, admin-dashboard.swift, admin-dashboard-view-model.swift, dashboard-actions.swift, dashboard-types.swift]
      notes: "Student, Teacher, Guardian, Admin dashboards complete"
    students:
      status: implemented
      files: [students-content.swift, students-table.swift, students-form.swift, students-view-model.swift, student.swift, students-actions.swift, students-validation.swift, students-types.swift, student-detail-view.swift]
      notes: "Full CRUD, search, year level filter, detail view with tabs"
    attendance:
      status: implemented
      files: [attendance-content.swift, attendance-table.swift, attendance-form.swift, qr-scanner-view.swift, attendance-view-model.swift, attendance.swift, attendance-actions.swift, attendance-validation.swift, attendance-types.swift]
      notes: "View history, calendar view, mark attendance (teacher), class student list"
    grades:
      status: implemented
      files: [grades-content.swift, grade.swift, grades-types.swift, grades-validation.swift, grades-actions.swift, grades-view-model.swift, grades-table.swift, grades-form.swift, report-card-view.swift]
      notes: "View results, grade entry (teacher), report card display, role-based views"
    timetable:
      status: implemented
      files: [timetable-types.swift, timetable-actions.swift, timetable-view-model.swift, timetable-content.swift, timetable-week-view.swift, timetable-day-view.swift, class-detail-view.swift]
      notes: "Weekly grid, daily timeline, class detail, role-based capabilities"
    messages:
      status: implemented
      files: [messages-types.swift, messages-validation.swift, messages-actions.swift, messages-view-model.swift, chat-view-model.swift, messages-content.swift, conversation-row.swift, chat-view.swift, message-bubble.swift, compose-message-view.swift]
      notes: "Conversation list, chat interface, send/receive, compose, offline-capable"
    notifications:
      status: implemented
      files: [notifications-types.swift, notification-router.swift, notifications-actions.swift, notifications-view-model.swift, notifications-content.swift, notification-row.swift]
      notes: "Notification list, filters, mark read, delete, push routing, deep linking"
    profile:
      status: implemented
      files: [profile-content.swift, edit-profile-view.swift, notification-preferences-view.swift, profile-view-model.swift, profile-actions.swift, profile-types.swift, profile-validation.swift]
      notes: "MVVM refactor, edit profile, notification prefs, theme settings, biometric toggle, language, logout"

# Epics
epics:
  - id: EPIC-001
    name: Authentication
    priority: P0
    sprint: 1
    status: complete
    stories:
      - id: AUTH-001
        title: Google OAuth Sign-In
        status: complete
        priority: P0
        story_file: docs/stories/AUTH-001-google-oauth.md
      - id: AUTH-002
        title: Facebook OAuth Sign-In
        status: complete
        priority: P0
        story_file: docs/stories/AUTH-002-facebook-oauth.md
      - id: AUTH-003
        title: Email/Password Login
        status: complete
        priority: P0
        story_file: docs/stories/AUTH-003-email-password.md
      - id: AUTH-004
        title: School Selection
        status: complete
        priority: P0
        story_file: docs/stories/AUTH-004-school-selection.md
      - id: AUTH-005
        title: Biometric Unlock
        status: complete
        priority: P1
        sprint: 4
      - id: AUTH-006
        title: Session Management
        status: complete
        priority: P0
        story_file: docs/stories/AUTH-006-session-management.md

  - id: EPIC-002
    name: Dashboard
    priority: P0
    sprint: 1-2
    status: complete
    stories:
      - id: DASH-001
        title: Student Dashboard
        status: complete
        priority: P0
        story_file: docs/stories/DASH-001-student-dashboard.md
      - id: DASH-002
        title: Teacher Dashboard
        status: complete
        priority: P0
        story_file: docs/stories/DASH-002-teacher-dashboard.md
      - id: DASH-003
        title: Guardian Dashboard
        status: complete
        priority: P0
        story_file: docs/stories/DASH-003-guardian-dashboard.md
      - id: DASH-004
        title: Admin Dashboard
        status: complete
        priority: P1

  - id: EPIC-003
    name: Attendance
    priority: P0
    sprint: 2
    status: complete
    stories:
      - id: ATT-001
        title: View Attendance History
        status: complete
        priority: P0
      - id: ATT-002
        title: Mark Attendance (Teacher)
        status: complete
        priority: P0
      - id: ATT-003
        title: QR Code Check-in
        status: complete
        priority: P1
      - id: ATT-004
        title: Submit Excuse (Guardian)
        status: complete
        priority: P1
      - id: ATT-005
        title: Attendance Stats
        status: complete
        priority: P1
      - id: ATT-006
        title: Bulk Attendance
        status: pending
        priority: P2

  - id: EPIC-004
    name: Grades
    priority: P0
    sprint: 2
    status: complete
    stories:
      - id: GRADE-001
        title: View Exam Results
        status: complete
        priority: P0
      - id: GRADE-002
        title: Report Card Display
        status: complete
        priority: P0
      - id: GRADE-003
        title: Grade History Charts
        status: complete
        priority: P1
      - id: GRADE-004
        title: Grade Entry (Teacher)
        status: complete
        priority: P0
      - id: GRADE-005
        title: GPA Display
        status: complete
        priority: P1

  - id: EPIC-005
    name: Timetable
    priority: P1
    sprint: 3
    status: complete
    stories:
      - id: TIME-001
        title: Weekly Schedule View
        status: complete
        priority: P0
      - id: TIME-002
        title: Daily Timeline View
        status: complete
        priority: P1
      - id: TIME-003
        title: Class Details
        status: complete
        priority: P1

  - id: EPIC-006
    name: Messaging
    priority: P1
    sprint: 3
    status: complete
    stories:
      - id: MSG-001
        title: Conversation List
        status: complete
        priority: P0
      - id: MSG-002
        title: Chat Interface
        status: complete
        priority: P0
      - id: MSG-003
        title: Send/Receive Messages
        status: complete
        priority: P0
      - id: MSG-004
        title: Push Notifications
        status: complete
        priority: P0

  - id: EPIC-007
    name: Notifications
    priority: P1
    sprint: 3
    status: complete
    stories:
      - id: NOTIF-001
        title: Notification List
        status: complete
        priority: P0
      - id: NOTIF-002
        title: Push Alerts (APNs)
        status: complete
        priority: P0
      - id: NOTIF-003
        title: Notification Preferences
        status: complete
        priority: P1

  - id: EPIC-008
    name: Students Management
    priority: P0
    sprint: 2
    status: complete
    stories:
      - id: STU-001
        title: Student List & Search
        status: complete
        priority: P0
      - id: STU-002
        title: Student Detail View
        status: complete
        priority: P0
      - id: STU-003
        title: Create/Edit Student
        status: complete
        priority: P1

  - id: EPIC-009
    name: Profile & Settings
    priority: P2
    sprint: 4
    status: complete
    stories:
      - id: PROF-001
        title: Profile View
        status: complete
        priority: P0
      - id: PROF-002
        title: Edit Profile
        status: complete
        priority: P1
      - id: PROF-003
        title: Language Toggle
        status: complete
        priority: P0
      - id: PROF-004
        title: Notification Settings
        status: complete
        priority: P1
      - id: PROF-005
        title: Theme Settings
        status: complete
        priority: P2
      - id: PROF-006
        title: Logout
        status: complete
        priority: P0

# Sprint Plan
sprints:
  - number: 1
    name: Foundation
    status: complete
    started_at: 2026-02-08
    completed_at: 2026-02-09
    goals:
      - Session management and auth infrastructure
      - Google + Facebook + Email authentication
      - School selection (multi-tenant)
      - Role-based dashboard routing
      - Student, Teacher, Guardian dashboards
    stories:
      - AUTH-006  # Session first (blocks all auth)
      - AUTH-001
      - AUTH-002
      - AUTH-003
      - AUTH-004
      - DASH-001
      - DASH-002
      - DASH-003

  - number: 2
    name: Core Features
    status: complete
    started_at: 2026-02-09
    completed_at: 2026-02-09
    goals:
      - Students CRUD module
      - Attendance module (view + mark)
      - Grades module (view + report card)
      - Admin dashboard
    stories:
      - STU-001
      - STU-002
      - STU-003
      - ATT-001
      - ATT-002
      - GRADE-001
      - GRADE-002
      - GRADE-004
      - DASH-004

  - number: 3
    name: Communication
    status: complete
    started_at: 2026-02-08
    completed_at: 2026-02-08
    goals:
      - Timetable module
      - Messaging module
      - Push notifications (APNs)
      - Notification center
    stories:
      - TIME-001
      - TIME-002
      - TIME-003
      - MSG-001
      - MSG-002
      - MSG-003
      - MSG-004
      - NOTIF-001
      - NOTIF-002

  - number: 4
    name: Completion
    status: complete
    started_at: 2026-02-09
    completed_at: 2026-02-09
    goals:
      - Profile & settings
      - Biometric unlock
      - Full localization
      - Remaining attendance features
      - Grade history & GPA
      - TestFlight prep
    stories:
      - PROF-001
      - PROF-002
      - PROF-003
      - PROF-004
      - PROF-005
      - PROF-006
      - AUTH-005
      - ATT-003
      - ATT-004
      - ATT-005
      - GRADE-003
      - GRADE-005
      - NOTIF-003

  - number: 5
    name: Polish
    status: pending
    started_at: null
    completed_at: null
    goals:
      - Performance optimization
      - Edge case handling
      - Beta feedback incorporation
      - App Store submission

# Blockers
blockers: []

# Notes
notes:
  - "Core infrastructure (API client, auth, sync engine) already implemented"
  - "Students and Attendance modules have file structure, need body implementation"
  - "AUTH-006 (Session Management) should be first story - blocks all others"
  - "Offline-first architecture requires careful sync per entity"
  - "APNs setup requires Apple Developer account configuration"
  - "All 8 user roles need distinct dashboard experiences"
  - "Web app has 209+ Prisma models - iOS only needs subset for MVP"
  - "Commands renamed from ios-* to shorter names (status, dev, qa, etc.)"
